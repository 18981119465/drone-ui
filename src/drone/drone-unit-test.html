<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<link rel="import" href="./elements/chart-meter.html">

<dom-module id="drone-unit-test">
	<template>
		<style>
			:host {
				box-sizing: border-box;
				display: block;
				user-select: none;
				margin-top:15px;
			}

			dl, dd, dt {
				margin: 0px;
				padding: 0px;
				font-size: 15px;
				line-height: 26px;
			}

			dl {
				color: #212121;
				font-size:0px;
			}

			dd {
				display: inline-block;
				margin-left: 6px;
			}

			dd:after {
				content: '/';
				margin: 0px 8px;
			}

			dd:last-child:after {
				display: none;
			}

			dt {
				display: inline-block;
			}

			dt a {
				color: #9E9E9E;
				text-decoration: none;
			}
		</style>

		<dl>
			<dt>[[report.passed]]</dt>
			<dd>Passed</dd>
			<dt>[[report.failed]]</dt>
			<dd>Failed</dd>
			<dt>[[report.skipped]]</dt>
			<dd>Skipped</dd>
			<dt>
				<a href="/reports/testing#/[[repo.data.full_name]]/[[build.data.number]]/[[proc.pid]]/[[report.name]]" target="_blank">[View Full Report]</a>
			</dt>
		</dl>

		<chart-meter
			passed="[[report.passed]]"
			failed="[[report.failed]]"
			skipped="[[report.skipped]]">
		</chart-meter>
	</template>

	<script>
		class DroneUnitTest extends Polymer.Element {
			static get is() { return 'drone-unit-test'; }
			static get properties() {
				return {
					report: {
						type: Object
					},
					repo: {
						type: Object
					},
					build: {
						type: Object
					},
					proc: {
						type: Object
					}
				};
			}
		};

		window.customElements.define(DroneUnitTest.is, DroneUnitTest);
	</script>
</dom-module>
